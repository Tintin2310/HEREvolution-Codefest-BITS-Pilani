<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/6.3.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.5/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.5/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.5/firebase-auth.js"></script>

    <!--Adding Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="style/style.css">

    <title>Login & Signup</title>
</head>

<body class="auth-page">
    <div class="col-4 center">
        <div class="form-group">
            <label for="email"><b>Email:</b></label>
            <input type="text" class="form-control shadow-sm" id="txtEmail" name="email">
        </div>
        <div class="form-group">
            <label for="pwd"><b>Password:</b></label>
            <input type="password" class="form-control shadow-sm" id="txtPassword" name="password">
        </div>

        <button type="submit" class="btn btn-primary shadow" id="btnLogin">Login</button>
        <button type="submit" class="btn btn-primary shadow" id="btnSignup">Signup</button>

        <script>
            (function () {

                // Your web app's Firebase configuration
                var firebaseConfig = {
                    apiKey: "api"
                };
                // Initialize Firebase
                firebase.initializeApp(firebaseConfig);

                //Get Elements
                const txtEmail = document.getElementById("txtEmail");
                const txtPassword = document.getElementById("txtPassword");
                const btnLogin = document.getElementById("btnLogin");
                const btnSignup = document.getElementById("btnSignup");

                //Add Login Event
                btnLogin.addEventListener('click', e => {
                    const email = txtEmail.value;
                    const password = txtPassword.value;

                    const auth = firebase.auth();

                    //sign in with firebase auth
                    auth.signInWithEmailAndPassword(email, password).then(user => {
                        window.location.href = "http://www.google.com";
                    }).catch(err => {
                        alert("Invalid email/password");
                    });

                });

                //Add Signup Event
                btnSignup.addEventListener('click', e => {

                    //get email and password
                    const email = txtEmail.value;
                    const password = txtPassword.value;

                    const auth = firebase.auth();

                    //sign in with firebase auth
                    const promise = auth.createUserWithEmailAndPassword(email, password).then(user => {
                        alert("Signup Successful :)")
                    }).catch(err => {
                        alert("invalid signup");
                    });

                });


            }());
        </script>
</body>

</html>
